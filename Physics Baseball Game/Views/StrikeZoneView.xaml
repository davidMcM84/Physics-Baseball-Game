<UserControl x:Class="Physics_Baseball_Game.Views.StrikeZoneView"
             x:Name="root"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent"
             MinWidth="960"
             MinHeight="600">
    <Grid Margin="12">
        <Border Padding="8"
                Background="#0E1A26"
                CornerRadius="6"
                BorderBrush="#274158"
                BorderThickness="1"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">
            <Grid x:Name="ZoneRoot"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center">
                <!-- 1 inch (96 DIPs) => 2 pixels -->
                <Grid.LayoutTransform>
                    <ScaleTransform ScaleX="0.0208333333" ScaleY="0.0208333333"/>
                </Grid.LayoutTransform>

                <Grid.Resources>
                    <SolidColorBrush x:Key="BorderBrush" Color="#35506A"/>
                    <SolidColorBrush x:Key="OutsideFill" Color="#102131"/>
                    <SolidColorBrush x:Key="StrikeFill" Color="#1B2E42"/>
                </Grid.Resources>

                <ItemsControl HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <UniformGrid Rows="5" Columns="5"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.Template>
                        <ControlTemplate TargetType="ItemsControl">
                            <ItemsPresenter/>
                        </ControlTemplate>
                    </ItemsControl.Template>
                    <ItemsControl.Items>
                        <!-- 25 cells: inner 3x3 is strike zone -->
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>

                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>

                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>

                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource StrikeFill}"  Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>

                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                        <Rectangle Fill="{StaticResource OutsideFill}" Stroke="{StaticResource BorderBrush}" StrokeThickness="1"/>
                    </ItemsControl.Items>
                </ItemsControl>

                <Canvas x:Name="Overlay"
                        IsHitTestVisible="False"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"/>
            </Grid>
        </Border>

        <!-- Pitcher vs Batter info (top-left) -->
        <Border HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Background="#990E1A26"
                CornerRadius="4"
                BorderBrush="#274158"
                BorderThickness="1"
                Padding="6"
                Margin="0">
            <TextBox IsReadOnly="True"
                     Background="Transparent"
                     BorderThickness="0"
                     Foreground="White"
                     FontSize="16"
                     TextWrapping="Wrap">
                <TextBox.Text>
                    <MultiBinding StringFormat="{}{0} vs {1}">
                        <Binding Path="PitcherName" Mode="OneWay"/>
                        <Binding Path="BatterName" Mode="OneWay"/>
                    </MultiBinding>
                </TextBox.Text>
            </TextBox>
        </Border>

        <!-- Pitch selection + buttons (top-right) -->
        <StackPanel HorizontalAlignment="Right" VerticalAlignment="Top">
            <ComboBox Width="140" Margin="0,0,0,8"
                      ItemsSource="{Binding Pitcher.Repertoire}"
                      SelectedItem="{Binding SelectedPitch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                      DisplayMemberPath="Name"/>
            <Button Content="Pitch"
                    Width="140" Height="40" Margin="0,0,0,8"
                    Command="{Binding ElementName=root, Path=PitchCommand}"
                    CommandParameter="{Binding SelectedPitch}"/>
            <Button Content="Next Batter"
                    Width="140" Height="40"
                    Command="{Binding ElementName=root, Path=NextBatterCommand}"/>
        </StackPanel>
    </Grid>
</UserControl>